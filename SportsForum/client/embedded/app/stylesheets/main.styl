// Styling more general elements: conversation header, anchor links, helper classes (clear) etc
 
@import "stylus_functions"
@import "variables"
@import "burnzone-fonts"
@import "mixins"
@import "content"
@import "buttons"
@import "comments"
@import "bets"
@import "competitions"
@import "login_services"
@import "challenges"
@import "forums"
@import "discovery"
@import "user"
@import "questions"
@import "dark"
@import "light"
@import "oembed"
@import "ie"

//Common elements

a
  cursor pointer

select
  option
    font-size 12px

a.btn.dropdown-toggle
  outline none

//Helpers

.clear
  clear both

.clearleft
  clear left

.clearright
  clear right

.display_none
  display none

.tc
  text-align center

.btn-clean
  background none
  border none

.comment_action
  cursor pointer

.flat-dropdown
  .dropdown-menu
    border-radius 0
    box-shadow none

.help_note
  font-style italic
  cursor help
  &:hover
    text-decoration none

.truncate
  white-space nowrap
  text-overflow ellipsis
  overflow hidden

.popover
  background none
  .popover-title
    display none

.label.badge_marker
.label.trusted_marker
  cursor pointer

.tooltip
  z-index 3
.tooltip-inner
  border-radius 5px

.logo
  width 100px
  margin-left 5px

.text
  font-size 14px
  line-height 1.5em
  word-wrap break-word
  margin 0.5em 0 0
  min-height 20px
  markdown()
  p
    margin 0px

.note
  &:hover
    text-decoration none

.comments_view
.forum_view
  .submit_controls .submit_options_button
    border-radius 0px

.like_section_mobile
.like_section
  border-right 3px solid lightGray
  padding-right 4px
.left_box
  width 30px
  height 30px
  margin-right 5px
  padding-left 4px
  .author_image_container
    width 30px

.top_note_bar
  position relative
  .time
    margin-left 2px
  .user-profile-link
    float left
    margin-right 3px
    .author_name
      display block
    .profile-points
      font-size 10px
      border-width 1px
      border-style solid
      padding 0 7px
      border-radius 3px

.author_image_container
  width 30px

.answered
.best_marker
.challenged_note
.active-replies
  display none
  margin-left 5px

.options_bar
  .share
    .share-fb
      margin-left 5px
    .share-fb
    .share-tw
    .share-mail
      visibility hidden
      margin-left 3px
      i
        font-size 14px
  .share:hover
    .share-fb
    .share-tw
    .share-mail
      visibility visible

.share
  display inline-block
  position relative
  a:hover
    text-decoration none

#header-login-link
  background none
  border-radius 3px
  &:hover
    text-decoration none
  i
    vertical-align middle
    font-weight bold
    font-size 18px

//Conversation Header is the div placed above the comments (in comments view) and topics (in forums view)

.conversation-header
  margin-bottom 40px
  position relative
  .dropdown-menu
    border-radius 0px
  .no_comments
    .comment_number
      position relative
      padding 0 8px 0 8px
    .comment_number:before
      content ""
      position absolute
      top 90%
      left 5px
      border-bottom 5px solid transparent
      border-right 8px solid

  .no_comments
  .no_challenges
  .no_questions
  .no_conversations
  .sortComments_view
  .share-container
  .context_filter_container
  .subscription-container
    display inline-block
    vertical-align middle
    .subscription
      a
        text-decoration none
  .subscription-container
    margin-left 15px
    display inline
    position relative
  .share-container
    display inline
    margin-left 17px
    .share.open
      .dropdown-menu
        min-width 105px
        .share-tw
          margin 0 10px
  .sortComments_view
    margin-left 15px
  .filtering_options
    display inline
  .context_filter_container
    border-radius 3px
    min-height 30px
    box-sizing border-box
    .selectize-input
      padding-top 5px
      padding-bottom 0px
  .create_thread
    word-wrap break-word
    width calc(unquote('100% - 419px'))
    font-size 14px
    border-radius 3px
    min-width 65px
    background none
    border-style solid
    padding 3px 2px
    line-height 20px
    .dropdown-toggle
      background none
      border medium none
      box-shadow none
      text-shadow none
      padding 0
      &:hover
      &:active
      &:focus
        text-decoration none
        border none
        outline none
    &.open
      .dropdown-menu
        border-radius 0
        padding 0
        top 0
        box-shadow none
        border none
        margin-left -10px
        margin-top 30px
        min-width 80px
        background none
        li
          a:hover
            background none
            color inherit
        i
          visibility visible
          font-size 20px
        .share-fb
          margin 0 15px 0 10px
        .dropdown-menu-container
          padding 5px
  .subscription.open
    .dropdown-menu
      text-align left
      padding-left 5px
  i
    font-size 18px
    vertical-align middle

  .context_filter_container
    .selectize-input
    .selectize-input > input > input
      min-width 100px
  .customSelectInner
    &:after
      font-family "FontAwesome"
      font-size 18px
      vertical-align middle
      margin-left 5px
      content "\f107"

.sortComments_view
  text-align center
  position relative
  display inline
  .sort_by
    cursor pointer
    width 120px !important
    height 20px !important
  .customSelectInner
    width 130px !important

.trust-stats
  .stats
  .info
    margin-left 20px
    padding 10px 0px
  .comments_required
  .vote_ratio
  .social_verified
  .profile_age
    font-size 14px
    display inline-block
    vertical-align middle
    text-align center
    cursor pointer
  .hide-info
    display none
  .complete
    border-bottom 2px solid #008C00
  .incomplete
    border-bottom 2px solid #FF0000
  .stats.AUTHOR_TRUSTED
    .trusted_marker
      display inline-block
      cursor initial
  .stats.AUTHOR_MODERATOR
    .moderator_marker
      display inline-block
      cursor initial

.context_filter
  cursor pointer

.customSelect
  background none
  margin-bottom -5px

.expander
  margin-left 60px
  display block
  text-align right
  font-weight bold

.context_view
  padding 0px
  position relative

.notifications
  top 0
  left 0
  float none
  visibility hidden
  &.show
    visibility visible
    opacity 1.0
  .notification
    width 100%
    position relative
  .alert
    margin-bottom 10px
  .alert-icon
    padding 12px
  .alert-body
    border none
    padding 12px 35px 12px 14px
    a
      color inherit
      text-decoration underline
  .close
    position absolute
    top 10px
    right 10px

.notifications.FLOATING
  position absolute
  width 100%
  z-index 1011

.go-to-bubble
.more-new-comments
  padding 5px
  cursor pointer
  font-size 15px
  height 20px
  display block
  label
    margin-bottom 0
    display inline-block
    font-size 10px
  input
    padding 0
    margin-bottom 1px
    vertical-align bottom
    position relative
    top -1px
  > strong
    display inline-block
  > .instant-show-new
    display table-cell
  > .have-new-comments
    width 70%
    text-align center
    vertical-align middle
    display table-cell

.go-to-bubble
  display table
  margin 0 auto 0 0
  background-color orange

.alert-new-comments
  font-weight bold
  font-size 16px
  color white

.comment_view
.bet_view
.question_view
.answer_view
.challenge_view
  &.highlight-comment > .single-item-wrapper
    border-top 3px solid orange
    &.comment_wrapper
      padding 2px 10px 10px 0
      margin-top 5px
  .signature
    font-style oblique
    font-size smaller

.comment_view
.bet_view
.question_view
.answer_view
.challenge_view
  &.invisible-comment
    visibility hidden
    overflow hidden
    height 0px
    > .single-item-wrapper
      &.comment_wrapper
        margin-top 0

.convSubscription_view
  position relative

.convSubscription_view
.contentSubscription_view
  form
    display none

.contentSubscription_view
  margin-top 5px

.convSubscription_view
.contentSubscription_view
  &.SHOW_SUBSCR_EMAIL
    form
      display block
      position absolute
      top 0
      left 0
      z-index 1
      margin-top 30px
      .inside-form-container
        padding 5px
      button
        margin-top 5px
        border-radius 0
        i
          font-size inherit

.contentSubscription_view.SHOW_SUBSCR_EMAIL
  form
    display block

// The subscription forms inside the comments list, different from those in the forums.
.comments_view
  .convSubscription_view
  .contentSubscription_view
    &.SHOW_SUBSCR_EMAIL
      form
        position static
        margin 5px 0
      input[type="text"]
        width 100%
        box-sizing border-box
        height 25px
    label
      font-weight normal

.mobile_options_menu
  font-size 1.4em
  i
    vertical-align middle
    margin-right 5px
  .mobile_options_menu_toggle
    background none
    box-shadow none

.header
  margin-bottom 10px
  position relative

.subscription
  .checkbox
    padding-left 0
    cursor pointer
  label
    display inline-block
  input[type="checkbox"]
    margin-top 0
    margin-left 0
    float none

#contexts
  .banner
    width 100%

.banner
  box-sizing border-box
  font-size 14px
  display table
  label
    font-size 12px
    margin-bottom 0
  .banner_options
    display inline-block
    a
      text-decoration none

.footer
  padding-top 10px

.center-align-burnzone
  width 130px
  margin-left auto
  margin-right auto
  
.add_burnzone
  padding 5px 9px
  position relative
  font-size 14px
  border 2px solid lightGray
  border-radius 5px
  display inline-block
  a
    text-decoration none

.add_footer_burnzone
  padding-left 5px
  font-size 20px

.subscription
  display inline-block
.add_burnzone_short
  position relative
  font-size 12px
  a
    text-decoration none

.control_bar
  clear both
  margin-top 10px
  .dropdown-menu
    width 100%
    box-sizing border-box
    text-align center

.question_points_offered_note
  margin-left 5px
  font-weight bold

.label-flat
  border-radius 0
  text-shadow none
  background-color transparent

.content.tab-content
  overflow visible
  margin-top 30px

.not_verified_marker
.moderator_marker
.trusted_marker
  cursor help
  display none
  padding 0 4px
  line-height 12px
  font-weight bold
  text-transform uppercase
  font-size 9px

.not_verified_marker
  background-color not_verified_color

.moderator_marker
  background-color moderator_marker_color

.trusted_marker
  background-color trusted_marker_color

.badges-container
  display inline

.badge_marker
  cursor help
  padding 0 4px
  line-height 12px
  font-weight lighter
  font-size 9px
  background-color moderator_marker_color
  .badge-title
    color white
    text-transform uppercase
    font-weight bold
  &.gold_marker
    cursor default
    background-color darkkhaki

.error_row
  background-color white
  color lightMainColor
  text-align center
  border-radius 5px
  margin-bottom 10px

.dropdown-menu
  li > a
    &:hover
    &:focus
      background none
      color inherit

.bz-scroll-to-top
  z-index 99999999
  right 30px
  opacity 0.6
  cursor pointer
  overflow hidden
  visibility visible
  text-align center
  background-color #777777
  color #eeeeee
  bottom 30px
  width 50px
  height 50px
  line-height 48px
  border-radius 10px
  &:hover
    background-color #888888
  i
    line-height inherit

@media(max-width: 594px)
  .forum_view
    .table_head
      .full-columns
        display none
      .mobile.column-sorter
        display inline-block
      .thread-column.sortable
        display none
    .contextSummary_view
      .thread-column.sortable
        display none
  .forum_view.SORT_LATEST_ACTIVITY
    .table_head
      .thread-column.sortable.head-latest-activity
        display inline-block
    .contextSummary_view
      .thread-column.sortable.column-latest-activity
        display inline-block
  .forum_view.SORT_COMMENTS
    .table_head
      .thread-column.sortable.head-comments
        display inline-block
    .contextSummary_view
      .thread-column.sortable.column-comments
        display inline-block
  .forum_view.SORT_ACTIVITY_RATING
    .table_head
      .thread-column.sortable.head-latest-activity
        display inline-block
    .contextSummary_view
      /* show the latest activity even when we sort by most activity 24h */
      .thread-column.sortable.column-latest-activity
        display inline-block

@media(min-width: 594px)
  .forum_view
    .table_head
      .full-columns
        display inline-block
      .mobile.column-sorter
        display none

@media(max-width: 400px)
  .more-new-comments
    > .instant-show-new
      float: none
  .comment-level-1.question_view
    .main_question_view
      padding 3px 10px 10px 5px
  .challenge_view
    .main_challenge_view
      padding-left 5px
  .challenge_container
  .question_view_container
  .comment_view
  .bet_view
  .question_view
    overflow visible
  .left_box
    width 30px
    .author_image_container
      height 30px
      width 30px
      .author_image
        height 30px
        width 30px
    .like_section
      font-size 14px
      width 30px
  .comments_view
    .text
      margin-left 0

  label
    font-size 9px
  input
    vertical-align text-bottom
    margin-right 5px

.moderator-control
.mod-menu
  display none

.USER_IS_MODERATOR
  .comments_view
    .moderator-control
      position relative
      z-index 1
  .forum_view
    .moderator-control
      display inline-block

/*
  The following block is a fix for mobile Safari's issue: messing up click events inside a div with a :hover rule that makes something visible.
  We make displaying stuff on hover possible only on non-ios devices
*/

#conversation.USER_IS_MODERATOR
  .comment_wrapper
  .question_view_container
  .main_question_view
  .answer_wrapper
  .challenge_container
    &:hover
      .mod-menu
        display block
  .mobile_options_menu
    .promote
      display block
    .self_promote
      display none
  .challenge_container
    .mobile_options_menu
      .promote
        display none

#conversation.USER_IS_MODERATOR
  .main_question_view
  .promoted_view
    .top_note_bar
      .moderator-control
        display none
  .comment_wrapper
  .question_view_container
  .main_question_view
  .answer_wrapper
  .challenge_container
    .moderator-control
      display block
    .demote
      display none
  .main_question_view.PROMOTED
  .answer_wrapper.PROMOTED
  .challenge_container.PROMOTED
  .comment_wrapper.PROMOTED
  .question_view_container.PROMOTED
    .moderator-control
      display block
    .promote
      display none
  .promoted_comments_view
    .comment_wrapper.PROMOTED
      .mod-menu
        margin-top 0px

.ios
  .ios-invisible
    display none !important
  .ios-visible
    display block !important
  .options_bar
    .hidden-phone
      display none !important //because of iPad's high resolution, forcing ios to not display elements that should be hidden on phones.

//This is a hidden button that was used when moving comments to a separate BZ page on phones
.view_separate_page
  display none
  margin-bottom 10px
  border 2px solid lightGray
  border-radius 3px
  padding 0px 5px
  a
    text-decoration none
  i
    float left
    font-size 35px
    margin-right 5px
body.mobile
  .view_separate_page
    display inline-block
.view_separate_page:hover
  text-decoration none

.toggle_oembed
  display none
  font-size smaller
  text-align left
  clear both
body.mobile
  .majorCommentInChallenge_view.HAS_EMBEDDED
  .HAS_EMBEDDED > .single-item-wrapper
    .toggle_oembed
      visibility visible
      display block

.leaderboard
  .custom-select-wrapper
    position relative
    overflow hidden
    height 37px
    .customSelectInner
      &:after
        font-family "FontAwesome"
        vertical-align middle
        margin-left 5px
        content "\f0D7"

.collection_view
  .empty_view
    text-align center

.msg-info
.msg-warning
.msg-success
.msg-danger
  border 1px solid lightGray
  padding 0px 5px
  border-left none
  margin-left 12px

.msg-info
  box-shadow -12px 0 #D9EDf7
.msg-warning
  box-shadow -12px 0 #FCF8E3
.msg-success
  box-shadow -12px 0 #DFF0D8
.msg-danger
  box-shadow -12px 0 #F2DEDE

.forum_view
  .context_view
    button.create-comment
      display block
      word-wrap break-word
      font-size 14px
      border-radius 3px
      min-width 65px
      background none
      border-style solid
      padding 4px 2px
      width 170px
      margin-bottom 10px
    .content
      #comments
        > .newComment_view
          display none

.context_view
  button.create-comment
    display none
